<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>


        // 1) 新增api
        // - keys(obj)：获取对象的所有 key 形成的数组 
        // - values(obj)：获取对象的所有 value 形成的数组 
        // - entries(obj)：获取对象的所有 key 和 value 形成的二维数组。格式：`[[k1,v1],[k2,v2],...]` 
        // - assign(dest, ...src) ：将多个 src 对象的值 拷贝到 dest 中。（第一层为深拷贝，第二层为浅拷贝） 

        const person = {
            name : "Jack",
            age: 22,
            language: ["java","php","c++"]
        }
        console.log(Object.keys(person))    //['name', 'age', 'language']
        console.log(Object.values(person))  //['Jack', 22, Array(3)]
        console.log(Object.entries(person))  //[Array(2), Array(2), Array(2)]


        const target = { a : 1};
        const source1 = { b : 2};
        const source2 = { c : 3};
        // Object.assign 方法第一个参数时目标对象，后面的参数都是源对象
        Object.assign(target,source1,source2);

        console.log(target) //{a: 1, b: 2, c: 3}

        //-------------------------------------------------------------------------------
        // 2） 声明对象简写
        const age = 23;
        const name = "张三";

        // 传统
        const person1 = {age:age, name:name};
        console.log(person1)

        // ES6:属性名和属性值一样，可以省略
        const person2 ={ age , name};
        console.log(person2)    //{age: 23, name: '张三'}

        //-----------------------------------------------------------------------------
        //3) 对象的函数属性简写

        let personT = {
            name : "Tom",

            // 以前
            eat: function(food){
                console.log(this.name + "在吃" + food);
            },

            // 箭头函数版：这里拿不到this
            // eat2: food => console.log(this.name + "在吃" + food),
            eat2: food => console.log(personT.name + "在吃" + food),
            // 简写版
            eat3: function(food){
                console.log(this.name + "在吃" + food);
            }
        }

        personT.eat("香蕉");        
        personT.eat2("苹果");
        personT.eat3("桔子");



        // 4) 对象扩展运算符
        // 拓展运算符（...）用于取出参数对象所有可遍历属性然后拷贝到当前对象。
        // 1.拷贝对象（深拷贝）
        let person3 = {name : "Amy" , age: 18};
        let someone = {...person3};
        console.log(someone) //{name: 'Amy', age: 18}

        // 2.合并对象
        let age2 = { age : 17};
        let name2 = { name : "Tom"};

        //如果两个对象的字段名重复，后面对象字段会覆盖前面对象的字段值
        let person4 = {...age2,...name2};

        console.log(person4); //{age: 17, name: 'Tom'}

    </script>
</body>
</html>